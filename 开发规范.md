# 项目参考结构
```text
EmoVision/
├── models/                    # 模型定义
│   ├── base_model.py          # 模型基类
│   ├── *_models.py            # 具体模型
│   └── __init__.py
├── config.py                  # 配置文件
├── data/                      # 数据加载
│   ├── dataloader.py
│   └── transforms.py
├── training/                  # 训练相关
│   ├── trainer.py
│   └── metrics.py
├── utils/                     # 工具函数
│   ├── visualization.py
├── experiments/               # 实验记录
│   └── *.md / *.word / *.pdf
├── main.py                    # 主入口
└── requirements.txt
```

# 规范

## 配置管理（config.py）
- 仅通过 `Config` 数据类集中维护训练超参数，禁止在脚本中硬编码学习率、批大小等。
- 新增字段前先确认是否已有同类变量，避免重复命名。
- 模型特定的参数也做好命名规范并放在Config.py文件中
- 若需要覆盖参数，优先在 `main.py` 或实验脚本里构建 `cfg = Config(...)` 再传递；如需临时字典，可使用 `model.update_config({...})`。

## 模型开发规范（models/）
- 所有模型继承 `BaseModel`，在 `setup_model` 中实例化 `self.model`，勿在 `forward` 中重复构建模块。
- 需要额外子模块时放在 `models/components/` 或与模型同名文件中，保持文件小于 500 行。
- 公共层/Block 建议抽取到 `models/modules.py`（如后续创建）。

## 训练与评估（training/）
- 训练循环统一走 `training/trainer.py`，禁止在 `main.py` 内部手写冗长训练逻辑。
- 评估指标扩展时在 `training/metrics.py` 中添加函数，并保证有最小使用示例。
- 回调（早停、日志、可视化）集中放在 `training/callbacks.py`，相互独立，支持组合。

## 数据与工具（data/, utils/）
- `data/dataloader.py` 负责 Dataset 与 DataLoader 封装，`transforms.py` 中维护所有数据增强策略，并按难度分组（基础/中级/强增强）。
- 通用可视化、日志等放在 `utils/`，若依赖第三方库请在 `requirements.txt` 中声明。

## 实验记录（experiments/）
- 每次正式训练需生成一份 `*.md` 或 `*.json` 记录：含配置、指标、主结论与待办。
- 命名格式建议：`{日期}-{模型}-{备注}`，如 `2025-11-26-ResNet50-noaug.md`。
- 将关键图表（loss/acc、混淆矩阵）统一放入 `experiments/assets/`，文档内引用相对路径。

# Tips

## 预测结果分析
可以将训练好的模型保存下来，之后在ipynb文件中做分析


